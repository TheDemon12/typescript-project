!function(e){var t={};function r(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(s,n,function(t){return e[t]}.bind(null,n));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);class s{constructor(e,t,r,s){this.templateElement=document.getElementById(e),this.hostElement=document.getElementById(t);const n=document.importNode(this.templateElement.content,!0);this.element=n.firstElementChild,s&&(this.element.id=s),this.attach(r)}attach(e){this.hostElement.insertAdjacentElement(e?"afterbegin":"beforeend",this.element)}}var n;!function(e){e[e.activeProjects=0]="activeProjects",e[e.finishedProjects=1]="finishedProjects"}(n||(n={}));class i{constructor(e,t,r,s,n){this.id=e,this.title=t,this.description=r,this.people=s,this.status=n}}var o=new class{constructor(){this.projects=[],this.listeners=[]}callListeners(){this.listeners.forEach(e=>e(this.projects.slice()))}addListeners(e){this.listeners.push(e)}addProject(e,t,r){const s=new i(Math.random().toString(),e,t,r,n.activeProjects);this.projects.push(s),this.callListeners()}moveProject(e,t){const r=this.projects.find(t=>t.id===e);r&&r.status!==t&&(r.status=t,this.callListeners())}};function l(e){let t=!0;return e.required&&0===e.value.toString().trim().length&&(t=!1),e.minLength&&e.value.toString().trim().length<e.minLength&&(t=!1),e.maxLength&&e.value.toString().trim().length>e.maxLength&&(t=!1),e.max&&"number"==typeof e.value&&e.value>e.max&&(t=!1),e.min&&"number"==typeof e.value&&e.value<e.min&&(t=!1),t}class a extends s{constructor(e,t){super("single-project",e,!1,t.id),this.project=t,this.renderContent(),this.element.addEventListener("dragstart",this.dragStartHandler.bind(this)),this.element.addEventListener("dragend",this.dragEndHandler.bind(this))}get persons(){return`${this.project.people} person${this.project.people>1?"s":""} assigned`}dragStartHandler(e){e.dataTransfer.setData("text/plain",this.project.id),e.dataTransfer.effectAllowed="move"}dragEndHandler(e){}renderContent(){this.element.querySelector("h2").textContent=this.project.title,this.element.querySelector("h3").textContent=this.persons,this.element.querySelector("p").textContent=this.project.description}}class c extends s{constructor(e){super("project-list","app",!1,e+"-projects"),this.type=e,this.assignedProjects=[],this.renderContent(),this.configure()}configure(){o.addListeners(e=>{const t=e.filter(e=>"active"===this.type?e.status===n.activeProjects:e.status===n.finishedProjects);this.assignedProjects=t,this.renderProjects()}),this.element.addEventListener("dragover",this.dragOverHandler.bind(this)),this.element.addEventListener("dragleave",this.dragLeaveHandler.bind(this)),this.element.addEventListener("drop",this.dropHandler.bind(this))}dragOverHandler(e){e.preventDefault(),this.element.querySelector("ul").classList.add("droppable")}dragLeaveHandler(){this.element.querySelector("ul").classList.remove("droppable")}dropHandler(e){var t;const r=null===(t=e.dataTransfer)||void 0===t?void 0:t.getData("text/plain");console.log(this.type),o.moveProject(r,"active"===this.type?n.activeProjects:n.finishedProjects),this.element.querySelector("ul").classList.remove("droppable")}renderProjects(){document.getElementById(this.type+"-projects-list").innerHTML="",this.assignedProjects.forEach(e=>{new a(this.type+"-projects-list",e)})}renderContent(){this.element.querySelector("h2").textContent=this.type.toUpperCase()+" PROJECTS";this.element.querySelector("ul").id=this.type+"-projects-list",this.assignedProjects.forEach(e=>{new a(this.type+"-projects-list",e)})}}new class extends s{constructor(){super("project-input","app",!0,"user-input"),this.title=this.element.querySelector("#title"),this.description=this.element.querySelector("#description"),this.people=this.element.querySelector("#people"),this.configure()}configure(){this.element.addEventListener("submit",this.submitHandler.bind(this))}gatherUserInput(){const e=this.title.value,t=this.description.value,r=this.people.value,s={value:t,minLength:5,maxLength:255},n={value:r,min:1,max:10};return l({value:e,minLength:5,maxLength:255})&&l(s)&&l(n)?[e,t,+r]:void alert("Invalid Properties Specified")}clearInput(){this.title.value="",this.description.value="",this.people.value=""}submitHandler(e){e.preventDefault();const t=this.gatherUserInput();if(t){const[e,r,s]=t;o.addProject(e,r,s),this.clearInput()}}},new c("active"),new c("finished")}]);